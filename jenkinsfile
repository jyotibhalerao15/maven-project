pipeline {
    agent any


    stages {
        stage('SCM Checkout'){
          git 'https://github.com/jyotibhalerao15/maven-project'
                             }
           
    
        stage ('Compile Stage') {

            steps {
                withMaven(maven : 'local-maven') {
                    sh 'mvn clean install'
                                                  }
                  }
                }

      stage ('Deploy')
              {
                steps 
                    {
 
                      sshagent (credentials: ['f6201e5b-e1ee-49ef-b462-bffc4fd69059']) {
                     sh 'scp -o StrictHostKeyChecking=no -l ec2-user@18.188.198.125:/usr/share/tomcat/webapps'
                    }
              }
}
}
